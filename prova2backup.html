<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Test Coppa Gelato ‚Äì Formato MEDIA</title>

<style>
body {
  margin: 0;
  background: #f2f2f2;
  font-family: system-ui, -apple-system, sans-serif;
}

/* ================= STAGE ================= */
#coppa-stage {
  position: relative;
  width: 860px;
  height: 520px;
  margin: 40px auto;
  background: #fff;
  border: 3px solid #000;
}

/* riferimento orizzontale */
:root {
  --base-left: 110px;
}

/* ================= BOX BASE ================= */
.box {
  position: absolute;
  box-sizing: border-box;
  border: 2px dashed rgba(0,0,0,0.4);
}

/* ================= COPPA ================= */
.box-coppa {
  width: 280px;
  height: 190px;
  left: var(--base-left);
  top: 230px;
  overflow: hidden;

  position: absolute; /* ‚¨ÖÔ∏è se non c‚Äô√® gi√† */
  z-index: 3;         /* ‚¨ÖÔ∏è QUESTA √à LA CHIAVE */
}

.box-coppa img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

/* ================= PANNA ================= */
.box-panna {
  width: 170px;
  height: 170px;
  left: calc(var(--base-left) + 140px - 85px);
  top: 60px;
  z-index: 3;
}
.box-panna {
  transform: scale(0.85);      /* ‚¨ÖÔ∏è rimpicciolisce la panna */
  transform-origin: center;    /* resta centrata */
}

.box-panna img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

/* ================= PALLINE ================= */
.box-palline {
  position: absolute;
  width: 280px;
  height: 200px;
  left: var(--base-left);
  top: 90px;
  z-index: 1;
}

.box-pallina {
  width: 135px;
  height: 135px;
  border-radius: 50%;
  position: absolute;
  transform: scaleY(0.9); /* ‚¨ÖÔ∏è schiaccia leggermente */
}


.box-pallina img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
}

/* sopra */
.pallina-top {
  left: 50%;
  top: 0;
  transform: translateX(-50%) scaleY(0.9);
}

/* sotto */
.pallina-left {
  left: 20px;
  bottom: -20px;
}

.pallina-right {
  right: 20px;
  bottom: -20px;
}

/* ================= EXTRA VERTICALI ================= */
.box-extra {
  position: absolute;
  width: 90px;
  height: 130px;
  top: 350px;
  display: flex;
  align-items: flex-end;
  justify-content: center;
}

.box-extra img {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
}

/* ================= FORMATO MEDIA ‚Äì SPAZIATURA BOX ================= */

/* GRANELLA */
.granella-1 { left: calc(var(--base-left) + 340px); }
.granella-2 { left: calc(var(--base-left) + 440px); }

/* TOPPING */
.topping-1  { left: calc(var(--base-left) + 560px); }
.topping-2  { left: calc(var(--base-left) + 660px); }

/* FRUTTA */
.box-frutta { left: calc(var(--base-left) + 780px); }

/* ================= EXTRA STAGE (IDENTICO A PICCOLA) ================= */
#extra-stage {
  position: absolute;
  top: 10px;
  left: calc(var(--base-left) + 450px);
  width: 280px;
  height: 70px;

  border: 2px dashed rgba(0,0,0,0.45);
  border-radius: 12px;
  background: transparent;

  display: flex;
  gap: 10px;
  align-items: center;
  justify-content: space-between;
  padding: 10px;
}

/* singolo slot */
#extra-stage .extra-slot {
  flex: 1;
  height: 100%;
  border: 2px dashed rgba(0,0,0,0.35);
  border-radius: 10px;

  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  padding: 6px;
}

#extra-stage .extra-img {
  flex: 1;
  width: 100%;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
}

#extra-stage .extra-text {
  width: 100%;
  text-align: center;
  font-size: 11px;
  font-weight: 600;
  margin-top: 4px;
  white-space: nowrap;
}
/* ================= RIDUZIONE BLOCCO EXTRA ‚Äì FORMATO MEDIA ================= */

.media-extras {
  transform: scale(0.85);           /* üîΩ rimpicciolisce tutto */
  transform-origin: top left;      /* ancora in alto a sinistra */
}
/* ================= RIDUZIONE BLOCCO COPPA ‚Äì FORMATO MEDIA ================= */

.media-coppa {
  transform: scale(0.85);
  transform-origin: top left;
}
/* Abbassa coppa + palline nel formato MEDIA */
.media-coppa .box-palline {
  top: 140px; /* prima era 90px */
}

.media-coppa .box-coppa {
  top: 300px; /* prima era 230px */
}
/* ================= EXTRA TOP ‚Äì FORMATO MEDIA ================= */
.media-extras-top {
  transform: scale(1.1);          /* ‚¨ÖÔ∏è ingrandisce leggermente */
  transform-origin: top left;     /* ancora corretta */
}
/* ================= FRECCE ================= */
.arrow {
  position: absolute;
  pointer-events: none;
  z-index: 2;
}

.arrow svg {
  overflow: visible;
}

.arrow path {
  fill: none;
  stroke: #000;
  stroke-width: 3;
  stroke-linecap: round;
}

/* ================= TESTO FRECCE ================= */
.arrow-text {
  position: absolute;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #000;
}

/* gusto sinistra */
.arrow-text.left {
  left: -35px;
  top: 40px;
}

/* gusto destra */
.arrow-text.right {
  right: 36px;
  top: 20px;
}

/* gusto in alto ‚Äì SOLO QUESTA */
.arrow-text.top.gusto-top-text {
  left: -30%;
  top: -35px;
  transform: translateX(-50%);
}

/* frecce sotto (granella, frutta ecc) */
.arrow-text.bottom {
  left: 50%;
  transform: translateX(-50%);
  top: 55px;
}


/* ================= TESTO FRECCIA ================= */
.arrow {
  position: absolute;
}

.arrow-text.right {
  left: auto;        /* disattiva la sinistra */
  right: -35px;      /* agganciato alla coda (specchio) */
  top: -20px;         /* stessa altezza della sinistra */
}
.arrow-text.bottom {
  left: 50%;
  transform: translateX(-50%);
  top: 55px;        /* sotto la curva */
}
/* stile comune, NON sposta */
.granella-text {
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
}

/* spostamenti separati */
.granella-1-text {
  margin-left: -40px;
}

.granella-2-text {
  margin-left: 40px;
}
.frutta-text {
  margin-left: 30px; /* oppure il valore che avevi trovato perfetto */
}
.arrow {
  position: absolute;
}

.arrow-text.top {
  left: 50%;
  transform: translateX(-50%);
  top: -50px;
}
.topping-text {
  top: -75px;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
}
/* Topping sinistro */
.topping-1-text {
  margin-left: -25px;   /* regola solo questo */
}

/* Topping destro */
.topping-2-text {
  margin-left: 30px;    /* regola solo questo */
}
</style>
</head>

<body>

<h2 style="text-align:center;margin-top:20px;">
Test Coppa Gelato ‚Äì Formato MEDIA
</h2>

<div id="coppa-stage">

<div class="media-coppa">

  <!-- PANNA -->
  <div class="box box-panna">
    <img src="img/panna.png">
  </div>

  <!-- PALLINE -->
  <div class="box-palline">
    <!-- PALLINA IN ALTO -->
    <div class="box box-pallina pallina-top">
        <div class="arrow"
     style="left:-60px; top:55%; transform:translateY(-50%);">
  <div class="arrow-text top gusto-top-text">Gusto</div>
  <svg width="50" height="30" viewBox="0 0 50 30"
       style="transform: rotate(0deg) scaleY(-1);">
    <path d="M30 15 C16 14, -6 18, -12 38"/>
    <path d="M38 15 L30 11 M38 15 L30 19"/>
  </svg>
</div>
      <img src="img/pallina-vaniglia.png">
    </div>

<!-- PALLINA SINISTRA -->
    <div class="box box-pallina pallina-left">
        <div class="arrow" style="left:-38px; top:40%; transform:translate(-30px, -50%);">
  <svg width="50" height="30" viewBox="0 0 50 30">
    <path d="M30 15 C16 14, -6 18, -12 38"/>
    <path d="M38 15 L30 11 M38 15 L30 19"/>
  </svg>
  <div class="arrow-text left">Gusto</div>
</div>
      <img src="img/pallina-fragola.png">
    </div>

<!-- PALLINA DESTRA -->
    <div class="box box-pallina pallina-right">
        <div class="arrow" style="right:-62px; top:30%; transform:translateY(-50%);">
  <div class="arrow-text right">Gusto</div>
  <svg width="50" height="30" viewBox="0 0 50 30"
       style="transform: rotate(180deg) translateY(-14px);">
    <path d="M30 15 C16 14, -6 18, -12 38"/>
    <path d="M38 15 L30 11 M38 15 L30 19"/>
  </svg>
</div>
      <img src="img/pallina-cioccolato.png">
    </div>
  </div>

  <!-- COPPA -->
  <div class="box box-coppa">
    <img src="img/coppa-piccola.png">
  </div>

</div>

<div class="media-extras">

  <!-- GRANELLA -->
  <div class="box box-extra granella-1">
    <div class="arrow" style="bottom:-52px; left:50%; transform:translateX(-50%);">
  <div class="arrow-text bottom granella-text granella-1-text">
  Granella
</div>
  <svg width="50" height="30" viewBox="0 0 50 30"
       style="transform:rotate(-90deg) scaleY(-1);">
    <path d="M30 15 C16 14, -6 18, -12 38"/>
    <path d="M38 15 L30 11 M38 15 L30 19"/>
  </svg>
</div>
    <img src="img/granella-nocciola.png">
  </div>

  <div class="box box-extra granella-2">
    <div class="arrow" style="bottom:-52px; left:50%; transform:translateX(-50%);">
  <div class="arrow-text bottom granella-text granella-2-text">
  Granella
</div>
  <svg width="50" height="30" viewBox="0 0 50 30"
       style="transform:rotate(-90deg);">
    <path d="M30 15 C16 14, -6 18, -12 38"/>
    <path d="M38 15 L30 11 M38 15 L30 19"/>
  </svg>
</div>
    <img src="img/granella-nocciola.png">
  </div>

  <!-- TOPPING -->
  <div class="box box-extra topping-1">
    <div class="arrow" style="top:-58px; left:50%; transform:translateX(-50%);">
  <div class="arrow-text top topping-text topping-1-text">Topping</div>
  <svg width="50" height="30" viewBox="0 0 50 30"
       style="transform: rotate(90deg);">
    <path d="M30 15 C16 14, -6 18, -12 38"/>
    <path d="M38 15 L30 11 M38 15 L30 19"/>
  </svg>
</div>
    <img src="img/topping-bosco.png">
  </div>

  <div class="box box-extra topping-2">
    <div class="arrow" style="top:-58px; left:50%; transform:translateX(-50%);">
  <div class="arrow-text top topping-text topping-2-text">Topping</div>
  <svg width="50" height="30" viewBox="0 0 50 30"
       style="transform: rotate(90deg) scaleY(-1);">
    <path d="M30 15 C16 14, -6 18, -12 38"/>
    <path d="M38 15 L30 11 M38 15 L30 19"/>
  </svg>
</div>
    <img src="img/topping-bosco.png">
  </div>

  <!-- FRUTTA -->
  <div class="box box-extra box-frutta">
    <div class="arrow" style="bottom:-52px; left:50%; transform:translateX(-50%);">
  <div class="arrow-text bottom frutta-text">Frutta</div>
  <svg width="50" height="30" viewBox="0 0 50 30"
       style="transform:rotate(-90deg);">
    <path d="M30 15 C16 14, -6 18, -12 38"/>
    <path d="M38 15 L30 11 M38 15 L30 19"/>
  </svg>
</div>
    <img src="img/fragola.png">
  </div>

<!-- EXTRA STAGE -->
<div class="media-extras-top">
  <div id="extra-stage">

    <div class="extra-slot">
      <div class="extra-img"></div>
      <div class="extra-text">Extra</div>
    </div>

    <div class="extra-slot">
      <div class="extra-img"></div>
      <div class="extra-text">Extra</div>
    </div>

    <div class="extra-slot">
      <div class="extra-img"></div>
      <div class="extra-text">Extra</div>
    </div>

  </div>
</div>

</body>
</html>