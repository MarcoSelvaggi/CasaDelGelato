<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Info & Contatti ‚Äì Casa del Gelato</title>

<link rel="icon" href="favicon.png">
<link rel="apple-touch-icon" href="icon-192.png">
<link rel="stylesheet" href="bottom-nav.css">
<script src="global.js"></script>

<style>
body{
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  margin:0;
  background:#f6f6f7;
  color:#111;
  padding-bottom:90px;
}

/* TOP BAR */
#top-fixed-bar{
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 55px;

  display: flex;
  align-items: center;
  justify-content: center;

  padding: 0 16px;          /* ‚úÖ QUESTO */
  box-sizing: border-box;   /* üî• FONDAMENTALE */

  background: #fff;
  border-bottom: 1px solid #ddd;
  z-index: 9999;
}
.home-btn{
  display:flex;
  align-items:center;
  gap:6px;
  font-size:17px;
  color:#444;
  text-decoration:none;
}
.home-btn img{width:28px;height:28px;}
#top-fixed-spacer{
  height: 55px;
}

/* HEADER */
.page-header{
  text-align:center;
  padding:30px 16px 10px;
}
.page-header h1{
  font-size:28px;
  font-weight:800;
  margin:0;
}
.page-header p{
  margin-top:8px;
  font-size:15px;
  color:#666;
}

/* CARD GENERICHE */
.section{padding:18px;text-align:center;}

/* CARD LOCALE */
.shop-card{
  background:#fff;
  border-radius:18px;
  margin:16px auto;
  max-width:360px;
  box-shadow:0 6px 18px rgba(0,0,0,0.08);
  overflow:hidden;
  text-align:left;
}
.shop-img{
  width:100%;
  height:280px;
  object-fit:cover;
}
.shop-content{padding:16px;}
.shop-content b{
  font-size:17px;
  display:block;
  margin-bottom:6px;
}
.shop-actions{
  display:flex;
  gap:8px;
  margin-top:12px;
}
.shop-actions a{
  flex:1;
  text-align:center;
  padding:10px;
  border-radius:12px;
  font-size:14px;
  font-weight:600;
  text-decoration:none;
  background:#f2f2f7;
  color:#007aff;
}
.shop-actions a.primary{
  background:#007aff;
  color:white;
}

#whatsapp-btn{
  position: fixed;
  right: 18px;
  bottom: 32px;

  width: 56px;
  height: 56px;

  background-color: #25D366;

  border-radius: 50%;
  box-shadow: 0 6px 18px rgba(0,0,0,0.28);

  z-index: 9999;

  /* CENTRATURA PERFETTA */
  display: grid;
  place-items: center;

  transition: transform .2s ease, box-shadow .2s ease;
}

/* ICONA */
#whatsapp-btn::before{
  content: "";
  width: 30px;
  height: 30px;

  background: white;

  /* SVG WhatsApp PULITO */
  -webkit-mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M12.04 2C6.56 2 2.04 6.52 2.04 12c0 1.96.57 3.85 1.64 5.48L2 22l4.66-1.63A9.94 9.94 0 0 0 12.04 22c5.48 0 10-4.52 10-10s-4.52-10-10-10zm0 18.18a8.2 8.2 0 0 1-4.18-1.15l-.3-.18-2.77.97.93-2.7-.2-.3a8.2 8.2 0 1 1 6.52 3.36zm4.63-6.14c-.25-.12-1.47-.72-1.7-.8-.23-.08-.4-.12-.57.12-.17.25-.65.8-.8.97-.15.17-.3.2-.55.08-.25-.12-1.05-.38-2-1.22-.74-.65-1.23-1.45-1.38-1.7-.15-.25-.02-.38.1-.5.1-.1.25-.3.38-.45.12-.15.17-.25.25-.42.08-.17.04-.32-.02-.45-.06-.12-.57-1.38-.78-1.9-.2-.48-.4-.42-.57-.42h-.48c-.17 0-.45.06-.68.32-.23.25-.9.88-.9 2.15 0 1.28.93 2.52 1.05 2.7.12.17 1.82 2.78 4.4 3.9.62.27 1.1.43 1.48.55.62.2 1.18.17 1.62.1.5-.08 1.47-.6 1.68-1.18.2-.57.2-1.05.15-1.15-.06-.1-.23-.17-.48-.3z'/%3E%3C/svg%3E") center / contain no-repeat;
          mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M12.04 2C6.56 2 2.04 6.52 2.04 12c0 1.96.57 3.85 1.64 5.48L2 22l4.66-1.63A9.94 9.94 0 0 0 12.04 22c5.48 0 10-4.52 10-10s-4.52-10-10-10zm0 18.18a8.2 8.2 0 0 1-4.18-1.15l-.3-.18-2.77.97.93-2.7-.2-.3a8.2 8.2 0 1 1 6.52 3.36zm4.63-6.14c-.25-.12-1.47-.72-1.7-.8-.23-.08-.4-.12-.57.12-.17.25-.65.8-.8.97-.15.17-.3.2-.55.08-.25-.12-1.05-.38-2-1.22-.74-.65-1.23-1.45-1.38-1.7-.15-.25-.02-.38.1-.5.1-.1.25-.3.38-.45.12-.15.17-.25.25-.42.08-.17.04-.32-.02-.45-.06-.12-.57-1.38-.78-1.9-.2-.48-.4-.42-.57-.42h-.48c-.17 0-.45.06-.68.32-.23.25-.9.88-.9 2.15 0 1.28.93 2.52 1.05 2.7.12.17 1.82 2.78 4.4 3.9.62.27 1.1.43 1.48.55.62.2 1.18.17 1.62.1.5-.08 1.47-.6 1.68-1.18.2-.57.2-1.05.15-1.15-.06-.1-.23-.17-.48-.3z'/%3E%3C/svg%3E") center / contain no-repeat;
}

#whatsapp-btn:hover{
  transform: scale(1.06);
  box-shadow: 0 10px 26px rgba(0,0,0,0.32);
}

/* CHAT */
.chat-btn{
  padding:10px;
  border-radius:12px;
  border:1px solid #ddd;
  background:#f2f2f7;
  font-size:14px;
  font-weight:600;
  cursor:pointer;
}
.chat-btn:hover{background:#e5e5ea;}
body.no-scroll {
  overflow: hidden;
  touch-action: none;
}
/* quando popup coppa √® aperto, sfoca anche la chat */
.chat-blurred {
  filter: blur(4px);
  pointer-events: none;
}
body.no-bottom-nav #bottom-nav {
  display: none;
}
#menu-btn{
  position:absolute;
  left:14px;
  font-size:22px;
  background:none;
  border:none;
  cursor:pointer;
  color:#111;
}
#menu-overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.35);
  opacity:0;
  pointer-events:none;
  transition:.25s;
  z-index:9998;
}

#menu-dropdown{
  position:fixed;
  top:60px;
  left:12px;
  width:220px;
  background:#fff;
  border-radius:14px;
  box-shadow:0 12px 30px rgba(0,0,0,0.25);
  padding:10px;
  transform:translateY(-10px);
  opacity:0;
  pointer-events:none;
  transition:.25s;
  z-index:9999;
}

/* MENU ITEM ‚Äì ALLINEAMENTO PERFETTO */
#menu-dropdown .menu-item{
  display: flex;
  align-items: center;        /* üî• centro verticale reale */
  gap: 12px;

  padding: 10px 12px;
  border-radius: 10px;

  text-decoration: none;
  color: #111;
  font-size: 15px;
  font-weight: 600;
  line-height: 1.2;           /* üî• evita salti */
}

#menu-dropdown a:hover{
  background:#f2f2f7;
}
/* ‚ò∞ MENU BUTTON ‚Äì PROFILO (identico a HOME) */
#menu-btn{
  position: absolute;
  left: 14px;
  top: 14px;              /* üîí BLOCCATO */
  height: 27px;           /* met√† top bar */
  display: flex;
  align-items: center;

  background: transparent;
  border: none;
  box-shadow: none;
  padding: 0;
  margin: 0;

  font-size: 22px;
  line-height: 1;
  color: #111;

  cursor: pointer;
  z-index: 10001;
}

#menu-btn:active{
  opacity: .6;
}
#menu-btn{
  position: absolute;
  left: 14px;
  top: 50%;
  transform: translateY(-50%);
}


.menu-item svg.menu-icon {
  width: 18px;
  height: 18px;
  flex-shrink: 0;
  stroke: #111;
  stroke-width: 1.8;
  fill: none;
  display: block; 

}
.icon-wrapper{
  position: relative;
  display: inline-flex;
  align-items: center;
}

.menu-new-only{
  display: flex;
  align-items: center;
  gap: 12px;
}

.badge-new-left{
  background: #ff3b30;
  color: #fff;
  font-size: 9px;          /* ‚¨ÖÔ∏è pi√π piccolo */
  font-weight: 700;
  padding: 3px 6px;        /* ‚¨ÖÔ∏è meno padding */
  border-radius: 999px;
  line-height: 1;
  letter-spacing: .3px;
}
body.no-scroll {
  overflow: hidden;
  touch-action: none;
}

/* sfocatura globale */
body.chat-open > *:not(#chat-overlay):not(#blur-overlay) {
  filter: blur(4px);
}
/* OVERLAY CHAT */
#chat-overlay{
  position: fixed;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;

  background: rgba(0,0,0,0.35);

  opacity: 0;
  pointer-events: none;

  transition: opacity .35s ease;
  z-index: 99999;
}

#chat-overlay.show{
  opacity: 1;
  pointer-events: auto;
}

/* CARD CHAT */
#chat-overlay > div{
  opacity: 0;
  transform: translateY(20px) scale(0.96);

  transition:
    opacity .35s ease,
    transform .55s cubic-bezier(.22,.61,.36,1);
}

#chat-overlay.show > div{
  opacity: 1;
  transform: translateY(0) scale(1);
}
/* üí¨ CONTENUTO CHAT ‚Äì animabile */
#chat-messages{
  transition:
    opacity .25s ease,
    transform .35s cubic-bezier(.22,.61,.36,1);
}

/* stato uscita */
#chat-messages.fade-out{
  opacity: 0;
  transform: translateY(-6px);
}

/* stato entrata */
#chat-messages.fade-in{
  opacity: 1;
  transform: translateY(0);
}
body.chat-open #coppa-popup{
  filter: none !important;
}
.profile-footer{
  padding: 10px 12px 14px;
  text-align: center;
  font-size: 12px;
  color: #8e8e93;
}

.profile-footer a{
  color:#8e8e93;
  text-decoration:none;
  font-weight:500;
}

.profile-footer a:hover{
  text-decoration:underline;
}

.footer-links{
  margin-bottom:8px;
}

.footer-copy{
  margin-bottom:4px;
}

.footer-version{
  opacity:.6;
}

.social-icons{
  position: absolute;
  right: 14px;
  top: 50%;
  transform: translateY(-50%);

  display: flex;
  gap: 8px;
}

/* BASE */
.social-btn{
  width: 34px;
  height: 34px;

  border-radius: 9px; /* ‚¨ÖÔ∏è Apple-style */
  display: grid;
  place-items: center;

  box-shadow: 0 4px 12px rgba(0,0,0,.18);
  transition: transform .2s ease, box-shadow .2s ease;
}

.social-btn:hover{
  transform: scale(1.06);
  box-shadow: 0 8px 20px rgba(0,0,0,.25);
}

/* ICONA COMUNE */
.social-btn::before{
  content: "";
  width: 26px;
  height: 26px;
  background: white;

  mask-size: contain;
  mask-repeat: no-repeat;
  mask-position: center;

  -webkit-mask-size: contain;
  -webkit-mask-repeat: no-repeat;
  -webkit-mask-position: center;
}
.social-btn.instagram{
  background: radial-gradient(
    circle at 30% 30%,
    #feda75,
    #fa7e1e,
    #d62976,
    #962fbf,
    #4f5bd5
  );
}

.social-btn.instagram::before{
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M7 2C4.2 2 2 4.2 2 7v10c0 2.8 2.2 5 5 5h10c2.8 0 5-2.2 5-5V7c0-2.8-2.2-5-5-5H7zm10 2c1.7 0 3 1.3 3 3v10c0 1.7-1.3 3-3 3H7c-1.7 0-3-1.3-3-3V7c0-1.7 1.3-3 3-3h10zm-5 3.5A4.5 4.5 0 1 0 16.5 12 4.5 4.5 0 0 0 12 7.5zm0 7.4A2.9 2.9 0 1 1 14.9 12 2.9 2.9 0 0 1 12 14.9zm4.8-7.9a1.1 1.1 0 1 0-1.1-1.1 1.1 1.1 0 0 0 1.1 1.1z'/%3E%3C/svg%3E");
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M7 2C4.2 2 2 4.2 2 7v10c0 2.8 2.2 5 5 5h10c2.8 0 5-2.2 5-5V7c0-2.8-2.2-5-5-5H7zm10 2c1.7 0 3 1.3 3 3v10c0 1.7-1.3 3-3 3H7c-1.7 0-3-1.3-3-3V7c0-1.7 1.3-3 3-3h10zm-5 3.5A4.5 4.5 0 1 0 16.5 12 4.5 4.5 0 0 0 12 7.5zm0 7.4A2.9 2.9 0 1 1 14.9 12 2.9 2.9 0 0 1 12 14.9zm4.8-7.9a1.1 1.1 0 1 0-1.1-1.1 1.1 1.1 0 0 0 1.1 1.1z'/%3E%3C/svg%3E");
  
}
.social-btn.facebook{
  background: #1877f2;
}

.social-btn.facebook::before{
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M14 9h3V6h-3c-2.2 0-4 1.8-4 4v3H7v3h3v5h3v-5h3l1-3h-4v-3c0-.6.4-1 1-1z'/%3E%3C/svg%3E");
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M14 9h3V6h-3c-2.2 0-4 1.8-4 4v3H7v3h3v5h3v-5h3l1-3h-4v-3c0-.6.4-1 1-1z'/%3E%3C/svg%3E");
   transform: translate(-1px, -0.5px);
}
/* ‚ÑπÔ∏è INFO UTILI CARD */
.info-card{
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.08);
  margin: 16px auto;
  max-width: 360px;          /* ‚¨ÖÔ∏è PI√ô STRETTA */
  width: calc(100% - 32px);  /* ‚¨ÖÔ∏è margini laterali fissi */
  overflow: hidden;
}
/* header cliccabile */
.info-card-header{
  width: 100%;
  border: none;
  background: transparent;
  padding: 16px 18px;

  display: flex;
  align-items: center;
  justify-content: space-between;

  cursor: pointer;
}

.info-card-left{
  display: flex;
  align-items: center;
  gap: 10px;
}

.info-icon{
  font-size: 18px;
}

.info-title{
  font-size: 16px;
  font-weight: 800;
  color: #111;
}

/* freccia */
.info-arrow{
  font-size: 22px;
  color: #bbb;
  transition: transform .3s ease;
}

/* contenuto (chiuso di default) */
.info-card-content{
  max-height: 0;
  overflow: hidden;
  opacity: 0;

  transition:
    max-height .45s cubic-bezier(.22,.61,.36,1),
    opacity .25s ease;
}

/* aperto */
.info-card-content.open{
  max-height: none;   /* ‚¨ÖÔ∏è niente tagli */
  opacity: 1;
}

/* sezione interna */
.info-section{
  padding: 14px 18px;
  border-top: 1px solid #eee;
}

.info-section b{
  font-size: 14px;
}

.info-section p{
  margin: 6px 0 0;
  font-size: 13px;
  color: #555;
}
/* üöó PARCHEGGI */
.parking-card{
  display: flex;
  align-items: center;              /* üî• centro verticale */
  justify-content: space-between;   /* testo sx / bottone dx */

  background: #f7f7f9;
  border-radius: 12px;
  padding: 12px 14px;
  margin-top: 10px;
  gap: 12px;
}

.parking-info{
  display: flex;
  flex-direction: column;
  justify-content: center; /* üî• allinea anche titoli a 2 righe */
  flex: 1;
  min-width: 0;
}

.parking-name{
  font-size: 14px;
  font-weight: 700;
  color: #111;
}

.parking-desc{
  font-size: 12px;
  color: #666;
  margin-top: 2px;
}

.parking-btn{
  border: none;
  background: #007aff;
  color: #fff;

  font-size: 12px;
  font-weight: 700;

  padding: 6px 12px;
  border-radius: 999px;

  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
}

.parking-btn:active{
  transform: scale(0.95);
}
.parking-card{
  transition:
    opacity .25s ease,
    transform .25s ease;
}
/* ‚òÄÔ∏è METEO */
.meteo-card{
  display: flex;
  align-items: center;
  justify-content: center;   /* üî• QUESTO */
  gap: 14px;

  background: #f7f7f9;
  border-radius: 14px;
  padding: 14px 16px;
  margin-top: 10px;
}

.meteo-icon{
  font-size: 34px;
  width: 42px;
  text-align: center;
}

.meteo-info{
  display: flex;
  flex-direction: column;
}

.meteo-temp{
  font-size: 22px;
  font-weight: 800;
  color: #111;
}

.meteo-desc{
  font-size: 13px;
  color: #555;
}

.meteo-city{
  font-size: 12px;
  color: #888;
}

/* üìç LUOGHI VICINI */
.nearby-list{
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-top: 10px;
}

.nearby-item{
  display: flex;
  align-items: center;
  justify-content: space-between;

  background: #f7f7f9;
  border-radius: 12px;
  padding: 12px 14px;
  gap: 12px;
}

.nearby-text{
  display: flex;
  flex-direction: column;
}

.nearby-name{
  font-size: 14px;
  font-weight: 700;
  color: #111;
}

.nearby-desc{
  font-size: 12px;
  color: #666;
  margin-top: 2px;
}

.nearby-btn{
  border: none;
  background: #007aff;
  color: #fff;

  font-size: 12px;
  font-weight: 700;
  padding: 6px 12px;
  border-radius: 999px;

  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
}

.nearby-btn:active{
  transform: scale(0.95);
}
.poi-filters{
  display: inline-flex;
  gap: 0;

  margin: 10px auto 16px;
  padding: 4px;

  background: #f2f2f7;
  border-radius: 999px;
}

.poi-btn{
  flex: none;
  padding: 6px 14px;

  border-radius: 999px;
  border: none;

  background: transparent;
  font-size: 13px;
  font-weight: 700;
  color: #111;

  cursor: pointer;
}

.poi-btn.active{
  background: #007aff;
  color: #fff;
}
.info-section > b{
  display: block;          /* ‚¨ÖÔ∏è fondamentale */
  margin-bottom: 8px;      /* ‚¨ÖÔ∏è spazio sotto il titolo */
}

/* SUPERMERCATI ESPANDIBILI */
.sub-list{
  margin-top: 8px;
  padding-left: 14px;
  border-left: 2px solid #e5e5ea;

  display: flex;
  flex-direction: column;   /* ‚¨ÖÔ∏è QUESTO √® IL FIX */
  gap: 6px;
}

/* ITEM FIGLIO */
.sub-item{
  display: flex;
  align-items: center;
  justify-content: space-between;

  background: #f7f7f9;
  border-radius: 10px;
  padding: 8px 12px;

  text-align: left;        /* ‚¨ÖÔ∏è forza testo a sinistra */
}
/* TESTO */
.sub-info{
  display: flex;
  flex-direction: column;
  align-items: flex-start; /* ‚¨ÖÔ∏è CHIAVE */
}

.sub-name{
  font-size: 13px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 6px;
}

.sub-desc{
  font-size: 11px;
  color: #8e8e93;
}
/* bottone maps uguale agli altri */
.sub-item button{
  border: none;
  background: #007aff;   /* üîµ blu iOS */
  color: #fff;

  font-size: 11px;
  font-weight: 700;

  padding: 6px 12px;
  border-radius: 999px;

  cursor: pointer;
}
/* SOTTO-LISTA SUPERMERCATI ‚Äì CHIUSA */
.sub-list{
  max-height: 0;
  opacity: 0;
  overflow: hidden;

  transform: translateY(-6px);

  /* ‚è±Ô∏è CHIUSA ‚Üí pronta */
  transition:
    max-height .25s ease,
    opacity .15s ease,
    transform .25s ease;
}

/* APERTA ‚Äì PI√ô LENTA */
.sub-list.open{
  max-height: 400px;

  opacity: 1;
  transform: translateY(0);

  /* üßà apertura pi√π morbida */
  transition:
    max-height .65s cubic-bezier(.22,.61,.36,1),
    opacity .35s ease,
    transform .45s ease;
}



/* CARD INFO UTILI ‚Äì BASE */
.info-card{
  transition:
    transform .35s cubic-bezier(.22,.61,.36,1),
    box-shadow .35s ease;
}

/* quando √® aperta */
.info-card.open{
  transform: scale(1.015);   /* üî• leggero ingrandimento */
  box-shadow: 0 10px 26px rgba(0,0,0,0.14);
}

/* CONTENUTO */
.info-card-content{
  max-height: 0;
  opacity: 0;
  overflow: hidden;

  transition:
    max-height .45s cubic-bezier(.22,.61,.36,1),
    opacity .25s ease;
}

.info-card-content.open{
  opacity: 1;
}

/* üöó FILTRO PARCHEGGI */
.poi-filter{
  display: inline-flex;
  gap: 0;

  margin: 10px auto 16px;
  padding: 4px;

  background: #f2f2f7;
  border-radius: 999px;
}

.parking-btn-filter{
  padding: 6px 14px;        /* ‚¨ÖÔ∏è pi√π pieni */
  border-radius: 999px;
  border: none;

  background: transparent;
  font-size: 13px;
  font-weight: 700;
  color: #111;

  cursor: pointer;
}

.parking-btn-filter.active{
  background: #007aff;
  color: #fff;
}

.parking-btn-filter:active{
  transform: scale(0.96);
}
/* ‚úÖ evita animazioni al primo caricamento (flicker) */
body.no-anim .poi-card,
body.no-anim .parking-card {
  transition: none !important;
}

/* POI ‚Äì base */
.poi-card{
  opacity: 1;
  transition: opacity .25s ease;
}

/* stato nascosto (fade) */
.poi-card.is-hidden{
  opacity: 0;
  pointer-events: none;
}



/* CONTENITORE FISSO */
.parking-wrapper{
  position: relative;
  min-height: 1px; /* verr√† aggiornata via JS */
}

/* GRUPPI SOVRAPPOSTI */
.parking-group{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;

  opacity: 1;
  will-change: opacity;

  transition:
    opacity .8s cubic-bezier(.22,.61,.36,1);
}

.parking-group.hidden{
  opacity: 0;
  pointer-events: none;
}

.parking-group:not(.hidden){
  transition-delay: .06s;
}
/* evita animazioni al load */
body.no-anim .parking-group{
  transition: none !important;
}


/* =========================
   üìç POI ‚Äì switch fluido
   ========================= */

.poi-wrapper{
  position: relative;
  min-height: 1px; /* altezza gestita via JS */
}

/* gruppi sovrapposti */
.poi-group{
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;

  opacity: 1;
  transform: translateY(0);
  will-change: opacity, transform;

  transition:
    opacity .35s ease,
    transform .45s cubic-bezier(.22,.61,.36,1);
}

.poi-group.hidden{
  opacity: 0;
  transform: translateY(6px);
  pointer-events: none;
}

/* niente animazioni al primo load */
body.no-anim .poi-group{
  transition: none !important;
}
.shop-img-slider{
  display: flex;
  overflow-x: scroll;              /* üî¥ deve essere scroll */
  width: 100%;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
}

.shop-img-slider::-webkit-scrollbar{
  display: none;
}

.shop-img-slider .shop-img{
  flex: 0 0 100%;
  width: 100%;
  max-width: 100%;
  scroll-snap-align: start;
}
.shop-img-slider{
  display: flex;
  overflow-x: scroll;
  width: 100%;
  height: 180px;              /* ‚¨ÖÔ∏è FONDAMENTALE */
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
}
.shop-img-slider{
  height: 280px;
}
</style>
</head>



<body class="no-anim">

<div id="top-fixed-bar">
  <button id="menu-btn" aria-label="Menu">‚ò∞</button>

  <a href="home.html" class="home-btn">
    <img src="tastohome.png">
  </a>

  <!-- SOCIAL -->
<div class="social-icons">
  <a
    class="social-btn instagram"
    href="https://www.instagram.com/casadelgelato.it?igsh=MW8wZm9kbXo1czN3YQ%3D%3D&utm_source=qr"
    target="_blank"
    aria-label="Instagram"
  ></a>

  <a
    class="social-btn facebook"
    href="https://www.facebook.com/share/188DWtyF5F/?mibextid=wwXIfr"
    target="_blank"
    aria-label="Facebook"
  ></a>
</div>
</div>
<div id="top-fixed-spacer"></div>

<header class="page-header">
  <h1>Info & Contatti</h1>
  <p>Come raggiungerci e restare in contatto</p>
</header>

<section class="section">

<!-- CONTATTI -->
<div class="shop-card">
  <div class="shop-content">
    <b>üì© Scrivici</b>
    <a href="mailto:casadelgelato.it@icloud.com">casadelgelato.it@icloud.com</a>

    <div class="shop-actions">
      <a
        class="primary"
        href="mailto:casadelgelato.it@icloud.com?subject=Info%20Casa%20del%20Gelato&body=Ciao%20Casa%20del%20Gelato%2C%0A%0A"
      >
        Scrivici
      </a>
    </div>
  </div>
</div>

<!-- ‚ÑπÔ∏è INFO UTILI -->
<div class="info-card">

  <button class="info-card-header" onclick="toggleInfoUtili()">
    <div class="info-card-left">
      <span class="info-icon">‚ÑπÔ∏è</span>
      <span class="info-title">Info utili</span>
    </div>
    <span id="info-arrow" class="info-arrow">‚Ä∫</span>
  </button>

  <div id="info-utili-content" class="info-card-content">

<div class="info-section">
  <b>üöó Parcheggi consigliati</b>

  <div class="poi-filter">
    <button class="parking-btn-filter active"
            onclick="mostraParcheggi('bibione', this)">
      Bibione
    </button>
    <button class="parking-btn-filter"
            onclick="mostraParcheggi('lignano', this)">
      Lignano
    </button>
  </div>

  <!-- üöó PARCHEGGI BIBIONE -->
   <div class="parking-wrapper"> 
  <div class="parking-group" data-city="bibione">

    <div class="parking-card">
      <div class="parking-info">
        <div class="parking-name">Parcheggio Piazzale Zenith</div>
        <div class="parking-desc">A 10 minuti a piedi dal locale</div>
      </div>
      <button class="parking-btn"
        onclick="closeSupermercati(); openMaps('https://www.google.com/maps/dir//Piazzale+Zenith,+30028+Bibione+VE/@45.63349,13.0523471,15z')">
        Maps
      </button>
    </div>

    <div class="parking-card">
      <div class="parking-info">
        <div class="parking-name">Parcheggio Piazza Mercato</div>
        <div class="parking-desc">Ampio, ideale la sera e vicino al Luna Park</div>
      </div>
      <button class="parking-btn"
        onclick="closeSupermercati(); openMaps('https://www.google.com/maps/place/Piazza+Mercato,+30020+Bibione+VE')">
        Maps
      </button>
    </div>

    <div class="parking-card">
      <div class="parking-info">
        <div class="parking-name">Parcheggio Corso Europa</div>
        <div class="parking-desc">Il pi√π comodo (non sempre disponibile)</div>
      </div>
      <button class="parking-btn"
        onclick="closeSupermercati(); openMaps('https://www.google.com/maps/place/Corso+Europa,+Bibione+VE')">
        Maps
      </button>
    </div>

  </div>

  <!-- üöó PARCHEGGI LIGNANO -->
  <div class="parking-group hidden" data-city="lignano">

    <div class="parking-card">
      <div class="parking-info">
        <div class="parking-name">Parcheggio Viale dei Platani</div>
        <div class="parking-desc">Centrale, comodo per il centro</div>
      </div>
      <button class="parking-btn"
        onclick="openMaps('https://www.google.com/maps/place/Viale+dei+Platani,+73,+33054+Lignano+Sabbiadoro+UD/@45.6904539,13.1347081,16z/data=!3m1!4b1!4m6!3m5!1s0x477b940d600ab777:0x573dc7255faca1eb!8m2!3d45.6904539!4d13.1372777!16s%2Fg%2F11c2hb96sr?entry=ttu&g_ep=EgoyMDI2MDEyMS4wIKXMDSoASAFQAw%3D%3D.com/maps/place/Viale+Europa,+Lignano+Sabbiadoro')">
        Maps
      </button>
    </div>

    <div class="parking-card">
      <div class="parking-info">
        <div class="parking-name">Parcheggio Lungomare Trieste</div>
        <div class="parking-desc">Fronte spiaggia, a 3 minuti </div>
      </div>
      <button class="parking-btn"
        onclick="openMaps('https://www.google.com/maps/place/Lungomare+Trieste,+33054+Lignano+Sabbiadoro+UD/@45.6857313,13.1373992,16z/data=!3m1!4b1!4m6!3m5!1s0x477b940ebc69bc13:0x74ed426d7158361e!8m2!3d45.6857313!4d13.1399688!16s%2Fg%2F1tql3m6h?entry=ttu&g_ep=EgoyMDI2MDEyMS4wIKXMDSoASAFQAw%3D%3D/maps/place/Lungomare+Trieste,+Lignano+Sabbiadoro')">
        Maps
      </button>
    </div>

    <div class="parking-card">
      <div class="parking-info">
        <div class="parking-name">Parcheggio su strada, Via Latisana</div>
        <div class="parking-desc">Facile da raggiungere, a 2 minuti</div>
      </div>
      <button class="parking-btn"
        onclick="openMaps('https://www.google.com/maps/place/Via+Latisana,+29,+33054+Lignano+Sabbiadoro+UD/@45.6891104,13.1359026,16.09z/data=!4m6!3m5!1s0x477b9410ebaa311b:0x8f21d497e40fd0f9!8m2!3d45.6920325!4d13.1457273!16s%2Fg%2F11c2gdc_qx?entry=ttu&g_ep=EgoyMDI2MDEyMS4wIKXMDSoASAFQAw%3D%3D/maps/place/Stadio+Guido+Teghil')">
        Maps
      </button>
    </div>

  </div>
</div>
</div>

<div class="info-section">
  <b>‚òÄÔ∏è Meteo</b>

  <!-- BIBIONE -->
  <div class="meteo-card">
    <div class="meteo-icon" id="meteo-icon-bibione">‚è≥</div>

    <div class="meteo-info">
      <div class="meteo-temp" id="meteo-temp-bibione">--¬∞</div>
      <div class="meteo-desc" id="meteo-desc-bibione">Caricamento...</div>
      <div class="meteo-city">Bibione</div>
    </div>
  </div>

  <!-- LIGNANO -->
  <div class="meteo-card">
    <div class="meteo-icon" id="meteo-icon-lignano">‚è≥</div>

    <div class="meteo-info">
      <div class="meteo-temp" id="meteo-temp-lignano">--¬∞</div>
      <div class="meteo-desc" id="meteo-desc-lignano">Caricamento...</div>
      <div class="meteo-city">Lignano Sabbiadoro</div>
    </div>
  </div>
</div>

<div class="info-section">
  <b>üìç Punti di interesse</b>

  <div class="poi-filters">
    <button class="poi-btn active" onclick="filtraPOI('bibione', this)">Bibione</button>
    <button class="poi-btn" onclick="filtraPOI('lignano', this)">Lignano</button>
  </div>

  <div class="poi-wrapper">

    <!-- ================= BIBIONE ================= -->
<!-- ================= BIBIONE ================= -->
<div class="poi-group" data-city="bibione">

  <!-- SPIAGGIA -->
  <div class="parking-card poi-card">
    <div class="parking-info">
      <div class="parking-name">üèñÔ∏è Spiaggia</div>
      <div class="parking-desc">A 3 minuti a piedi</div>
    </div>
    <button class="parking-btn"
      onclick="openMaps('https://www.google.com/maps/place/Via+della+Luna,+Bibione')">
      Maps
    </button>
  </div>

  <!-- LUNA PARK -->
  <div class="parking-card poi-card">
    <div class="parking-info">
      <div class="parking-name">üé° Luna Park</div>
      <div class="parking-desc">Divertimento per grandi e piccoli</div>
    </div>
    <button class="parking-btn"
      onclick="openMaps('https://www.google.com/maps/place/Luna+Park+Adriatico')">
      Maps
    </button>
  </div>

  <!-- SUPERMERCATI -->
  <div class="parking-card supermarket-card" onclick="toggleSupermercati()">
    <div class="parking-info">
      <div class="parking-name">üõí Supermercati</div>
      <div class="parking-desc">Negozi e market nelle vicinanze</div>
    </div>
    <button class="parking-btn arrow-btn">‚ñº</button>
  </div>

  <div id="supermercati-list" class="sub-list">
    <div class="sub-item">
      <div class="sub-info">
        <div class="sub-name">üçâ Momoli</div>
        <div class="sub-desc">Supermercato storico in centro</div>
      </div>
      <button onclick="openMaps('https://www.google.com/maps/place/Supermercati+Momoli')">Maps</button>
    </div>

    <div class="sub-item">
      <div class="sub-info">
        <div class="sub-name">üçó Eurospar</div>
        <div class="sub-desc">Ampio e ben fornito</div>
      </div>
      <button onclick="openMaps('https://www.google.com/maps/place/EUROSPAR+Bibione')">Maps</button>
    </div>

    <div class="sub-item">
      <div class="sub-info">
        <div class="sub-name">ü•ñ Stella Market</div>
        <div class="sub-desc">A 2 minuti dal locale</div>
      </div>
      <button onclick="openMaps('https://www.google.com/maps/place/Stella+Market')">Maps</button>
    </div>
  </div>

  <!-- PRONTO SOCCORSO -->
  <div class="parking-card poi-card">
    <div class="parking-info">
      <div class="parking-name">üöë Pronto Soccorso</div>
      <div class="parking-desc">Ospedale di Bibione</div>
    </div>
    <button class="parking-btn"
      onclick="openMaps('https://www.google.com/maps/place/Pronto+Soccorso+Bibione')">
      Maps
    </button>
  </div>

  <!-- FARMACIA -->
  <div class="parking-card poi-card">
    <div class="parking-info">
      <div class="parking-name">üíä Farmacia</div>
      <div class="parking-desc">Farmacia Centrale Bibione</div>
    </div>
    <button class="parking-btn"
      onclick="openMaps('https://www.google.com/maps/place/Farmacia+Apotheke+Vizzon+Bibione')">
      Maps
    </button>
  </div>

  <!-- TERME -->
  <div class="parking-card poi-card">
    <div class="parking-info">
      <div class="parking-name">‚ô®Ô∏è Terme</div>
      <div class="parking-desc">Bibione Thermae</div>
    </div>
    <button class="parking-btn"
      onclick="openMaps('https://www.google.com/maps/place/Terme+Bibione')">
      Maps
    </button>
  </div>

  <!-- POLIZIA -->
  <div class="parking-card poi-card">
    <div class="parking-info">
      <div class="parking-name">üëÆ Polizia</div>
      <div class="parking-desc">Commissariato di Bibione</div>
    </div>
    <button class="parking-btn"
      onclick="openMaps('https://www.google.com/maps/place/Comando+Polizia+Locale+Bibione')">
      Maps
    </button>
  </div>

  <!-- CARABINIERI -->
  <div class="parking-card poi-card">
    <div class="parking-info">
      <div class="parking-name">üöì Carabinieri</div>
      <div class="parking-desc">Stazione Carabinieri Bibione</div>
    </div>
    <button class="parking-btn"
      onclick="openMaps('https://www.google.com/maps/place/Comando+Stazione+Carabinieri+Bibione')">
      Maps
    </button>
  </div>

</div>

<!-- ================= LIGNANO ================= -->
<div class="poi-group hidden" data-city="lignano">

  <div class="parking-card poi-card">
    <div class="parking-info">
      <div class="parking-name">üèõÔ∏è Comune</div>
      <div class="parking-desc">Municipio di Lignano Sabbiadoro</div>
    </div>
    <button class="parking-btn"
      onclick="openMaps('https://www.google.com/maps/place/Comune+di+Lignano')">
      Maps
    </button>
  </div>

  <div class="parking-card poi-card">
    <div class="parking-info">
      <div class="parking-name">üåä Terrazza a Mare</div>
      <div class="parking-desc">A 5 minuti a piedi</div>
    </div>
    <button class="parking-btn"
      onclick="openMaps('https://www.google.com/maps/place/Terrazza+a+Mare')">
      Maps
    </button>
  </div>

  <div class="parking-card poi-card">
    <div class="parking-info">
      <div class="parking-name">üöë Pronto Soccorso</div>
      <div class="parking-desc">Ospedale di Lignano</div>
    </div>
    <button class="parking-btn"
      onclick="openMaps('https://www.google.com/maps/place/Pronto+Soccorso+di+Lignano')">
      Maps
    </button>
  </div>

  <div class="parking-card poi-card">
    <div class="parking-info">
      <div class="parking-name">üëÆ Polizia</div>
      <div class="parking-desc">Commissariato di Lignano</div>
    </div>
    <button class="parking-btn"
      onclick="openMaps('https://www.google.com/maps/place/Polizia+Locale+Municipale')">
      Maps
    </button>
  </div>

  <div class="parking-card poi-card">
    <div class="parking-info">
      <div class="parking-name">üí¶ Aquasplash</div>
      <div class="parking-desc">Parco acquatico</div>
    </div>
    <button class="parking-btn"
      onclick="openMaps('https://www.google.com/maps/place/Aquasplash+-+Parco+Acquatico')">
      Maps
    </button>
  </div>

  <div class="parking-card poi-card">
  <div class="parking-info">
    <div class="parking-name">üõí Supermercato Eurospar</div>
    <div class="parking-desc">Supermercato Eurospar di Lignano</div>
  </div>
  <button class="parking-btn"
    onclick="openMaps('https://www.google.com/maps/place/Supermercato+Eurospar+Lignano/@45.6873436,13.1324108,17z/data=!3m1!4b1!4m6!3m5!1s0x477b940ce3057537:0xbc7a6228881b65bd!8m2!3d45.6873436!4d13.1349804!16s%2Fg%2F11b8t75f8s?entry=ttu&g_ep=EgoyMDI2MDEyMS4wIKXMDSoASAFQAw%3D%3D/place/Eurospar+Lignano+Sabbiadoro')">
    Maps
  </button>
</div>

</div>
</div> <!-- poi-group lignano -->
</div> <!-- poi-wrapper -->
</div> <!-- info-section -->

</div> <!-- info-utili-content -->
</div> <!-- info-card -->

<!-- LOCALE 1 -->
<div class="shop-card">
  <div class="shop-img-slider">
  <img src="img/latinlover-card.jpg" class="shop-img">
  <img src="img/fantasia-card.jpg" class="shop-img">
  <img src="img/julep-card.jpg" class="shop-img">
  <img src="img/brioches-card.jpg" class="shop-img">
  <img src="img/torte-card.jpg" class="shop-img">
  <img src="img/caffeasporto-card.jpg" class="shop-img">
  <img src="img/cabana-card.jpg" class="shop-img">
  <img src="img/eiscafe-card.jpg" class="shop-img">
  <img src="img/chiquita-card.jpg" class="shop-img">
  <img src="img/aftereight-card.jpg" class="shop-img">
  <img src="img/olalambada-card.jpg" class="shop-img">
</div>
  <div class="shop-content">
    <b>Bibione ‚Äì Viale delle Costellazioni 49</b>

    <div class="shop-actions">
      <a href="tel:043143628">Chiama</a>
      <a href="https://www.google.com/maps/place/Casa+del+Gelato/@45.636008,13.055741,16z/data=!3m1!4b1!4m6!3m5!1s0x477b92ea07421221:0xe391699002be4784!8m2!3d45.636008!4d13.0583106!16s%2Fg%2F11c1knfsdv?entry=ttu&g_ep=EgoyMDI2MDEyMS4wIKXMDSoASAFQAw%3D%3D" target="_blank">Maps</a>
            <a class="chat-btn" onclick="apriChatLocale('bibione49')">Info</a>
      <a href="https://g.page/r/CYRHvgKQaZHjEBM/review"
         target="_blank"
         class="primary">
        Recensione
      </a>
    </div>

  </div>
</div>

<!-- LOCALE 2 -->
<div class="shop-card">
  <div class="shop-img-slider">
    <img src="img/asporto2-card.jpg" class="shop-img">
    <img src="img/asporto2granita-card.jpg" class="shop-img">
    <img src="img/asporto2fragola-card.jpg" class="shop-img">
  </div>
  <div class="shop-content">
    <b>Bibione ‚Äì Viale delle Costellazioni 10</b>
<div class="shop-actions">
  <a href="tel:0431364365">Chiama</a>
  <a href="https://www.google.com/maps/place/Casa+Del+Gelato+2/@45.636209,13.0584217,21z/data=!4m14!1m7!3m6!1s0x477b92ea07421221:0xe391699002be4784!2sCasa+del+Gelato!8m2!3d45.636008!4d13.0583106!16s%2Fg%2F11c1knfsdv!3m5!1s0x477b92e9877c0911:0xe7a50ebf046f072b!8m2!3d45.6362294!4d13.0585103!16s%2Fg%2F11bvt66r_s?entry=ttu&g_ep=EgoyMDI2MDEyMS4wIKXMDSoASAFQAw%3D%3D" target="_blank">Maps</a>
  <a onclick="apriChatLocale('bibione10')">Info</a>
  <a href="https://g.page/r/CSsHbwS_DqXnEBM/review" target="_blank" class="primary">
    Recensione
  </a>
</div>
  </div>
</div>

<!-- LOCALE 3 -->
<div class="shop-card">
  <div class="shop-img-slider">
    <img src="img/lignano.jpg" class="shop-img">
    <img src="img/coda-card.jpg" class="shop-img">
    <img src="img/stecco-card.jpg" class="shop-img">
     <img src="img/calippo-card.jpg" class="shop-img">
  </div>
  <div class="shop-content">
    <b>Lignano Sabbiadoro ‚Äì Via Udine 1</b>
<div class="shop-actions">
  <a href="tel:04311961783">Chiama</a>
  <a href="https://www.google.com/maps/place/Casa+del+Gelato/@45.6907281,13.1454696,18z/data=!3m1!4b1!4m6!3m5!1s0x477b95d654c5d7a7:0xfa6ef4e26cb41dea!8m2!3d45.6907281!4d13.1454696!16s%2Fg%2F11jj66plr9?entry=ttu&g_ep=EgoyMDI2MDEyMS4wIKXMDSoASAFQAw%3D%3D" target="_blank">Maps</a>
  <a onclick="apriChatLocale('lignano')">Info</a>
  <a href="https://g.page/r/CeodtGzi9G76EBM/review" target="_blank" class="primary">
    Recensione
  </a>
</div>
  </div>
</div>

</section>

<a id="whatsapp-btn" href="https://wa.me/393403788846" target="_blank" aria-label="Chat WhatsApp"></a>

<!-- CHAT POPUP -->
<div id="chat-overlay">
<div style="
background:#fff;
width:92%;
max-width:360px;
max-height:80vh;
border-radius:18px;
padding:16px;
box-shadow:0 10px 30px rgba(0,0,0,0.25);
display:flex;
flex-direction:column;
">

<b>Casa del Gelato</b>

<div id="chat-messages" style="margin-top:12px;font-size:14px">
üëã Seleziona il locale:
<div style="margin-top:10px;display:grid;gap:8px">
<button class="chat-btn" onclick="selezionaLocale('bibione49')">Bibione</button>
<button class="chat-btn" onclick="selezionaLocale('bibione10')">Bibione 2</button>
<button class="chat-btn" onclick="selezionaLocale('lignano')">Lignano</button>
</div>
</div>

<div id="chat-actions" style="
  margin-top:14px;
  display:none;
  gap:8px;
  overflow-y:auto;
  max-height:160px;
  padding-right:4px;
">
<button class="chat-btn" onclick="risposta('orari')">üïí Orari</button>
<button id="btn-coppa" class="chat-btn" onclick="apriPopupCoppa()" style="display:none">
  üç® Crea la tua Coppa
</button>
<button class="chat-btn" onclick="risposta('indirizzo')">üìç Indirizzo</button>
<button class="chat-btn" onclick="risposta('info')">
Info sul locale
</button>
<button class="chat-btn" onclick="window.location.href='lavora-con-noi.html'">Lavora con noi</button>
</div>

<div id="chat-footer" style="
  margin-top:14px;
  display:flex;
  gap:10px;
">
  <button
    id="btn-back"
    class="chat-btn"
    style="flex:1; display:none"
    onclick="resetChat()"
  >
    ‚Üê Cambia locale
  </button>

  <button
    onclick="chiudiChat()"
    style="
      flex:1;
      padding:10px;
      border:none;
      border-radius:12px;
      background:#111;
      color:#fff;
      font-weight:700;
    "
  >
    Chiudi
  </button>
</div>

</div>
</div>

<script>
let localeSelezionato = null;

const LOCALI = {
  bibione49: {
    nome: "Bibione ‚Äì Viale delle Costellazioni 49",
    indirizzo: "Viale delle Costellazioni 49, Bibione",
    telefono: "043143628",
    orari: "8:00 ‚Äì 1:00",
      wifi: {
    nome: "Free Wi-Fi",
    password: "Casadelgelato"
  },
info: `

<div style="font-size:13.5px; line-height:1.45">

  <div style="margin-bottom:8px">
    Gelateria storica nel cuore di Bibione con <b>servizio al tavolo e asporto</b>,
    perfetta in ogni momento della giornata.
  </div>

  <div style="display:flex; gap:6px; margin-top:10px">
    <span>‚òï</span>
    <span><b>Colazioni</b> per iniziare la giornata con gusto</span>
  </div>

  <div style="display:flex; gap:6px; margin-top:10px">
    <span>üçπ</span>
    <span><b>Aperitivi</b> da vivere in relax</span>
  </div>

  <div style="display:flex; gap:6px; margin-top:10px">
    <span>üç¶</span>
    <span><b>Specialit√† con il gelato</b>, il nostro punto di forza</span>
  </div>

  <div style="display:flex; gap:6px; margin-top:12px">
    <span>‚ú®</span>
    <span>
      <b>Novit√†:</b> ora puoi creare la tua coppa personalizzata direttamente dal nostro sito,
      mostrarla al cameriere e gustarla esattamente come l‚Äôhai immaginata.
    </span>
  </div>

</div>
`
  },

  bibione10: {
    nome: "Bibione ‚Äì Viale delle Costellazioni 10",
    indirizzo: "Viale delle Costellazioni 10, Bibione",
    telefono: "0431364365",
    orari: "10:00 ‚Äì 23:30",
    info: `
üö∂‚Äç‚ôÇÔ∏è <b>Punto asporto veloce</b><br>
Situato di fronte al nostro <b>locale storico</b><br>
Ideale per una pausa golosa durante la passeggiata, con <b>coppe gelato d‚Äôasporto</b> e
<b>granite rinfrescanti</b> da gustare in ogni momento della giornata.
    `
  },

  lignano: {
    nome: "Lignano Sabbiadoro ‚Äì Via Udine 1",
    indirizzo: "Via Udine 1, Lignano Sabbiadoro",
    telefono: "04311961783",
    orari: "10:00 ‚Äì 1:00",
    info: `
   üå¥ <b>Punto asporto nel cuore di Lignano Sabbiadoro</b><br>
La tappa ideale per rinfrescarsi durante la passeggiata, con una ricca selezione di
<b>gusti artigianali</b>, <b>coppe gelato</b>, <b>granite con frutta fresca</b>,
<b>gelati su stecco</b> e <b>ghiaccioli</b> perfetti in ogni momento della giornata.
    `
  }
};

function apriChat(){
  resetChat();

  const overlay = document.getElementById("chat-overlay");
  overlay.classList.add("show");

  document.body.classList.add("no-scroll");
  document.body.classList.add("chat-open");
}

function chiudiChat(){
  const overlay = document.getElementById("chat-overlay");
  overlay.classList.remove("show");

  document.body.classList.remove("no-scroll");
  document.body.classList.remove("chat-open");

  resetChat();
}

function selezionaLocale(id) {
  localeSelezionato = id;

  const l = LOCALI[id];
  const box = document.getElementById("chat-messages");
  const actions = document.getElementById("chat-actions");
  const btnCoppa = document.getElementById("btn-coppa");
  const btnBack = document.getElementById("btn-back");

  /* 1Ô∏è‚É£ anima USCITA contenuto attuale */
  box.classList.remove("fade-in");
  box.classList.add("fade-out");

  setTimeout(() => {

    /* 2Ô∏è‚É£ aggiorna contenuto DOPO fade-out */
box.innerHTML = `
  <div style="opacity:.8;margin-bottom:10px">
    Informazioni su <b>${l.nome}</b>
  </div>

  <div style="
    margin-top:8px;
    padding:14px;
    background:#f2f2f7;
    border-radius:12px;
    display:flex;
    flex-direction:column;
    gap:10px;
    font-size:15px;
  ">
    <div><b>Indirizzo</b><br>${l.indirizzo}</div>

    <div><b>Orari</b><br>${l.orari}</div>

    <div>
      <b>Telefono</b><br>
      <a href="tel:${l.telefono}">${l.telefono}</a>
    </div>

    ${l.wifi ? `
      <div style="font-size:14px">
        <b>${l.wifi.nome}</b><br>
        Password: <span style="font-weight:600">${l.wifi.password}</span>
      </div>
    ` : ""}
  </div>
`;

    /* 3Ô∏è‚É£ mostra azioni */
    actions.style.display = "grid";
    btnBack.style.display = "block";

    /* üç® crea coppa solo Bibione 49 */
    if (btnCoppa) {
      btnCoppa.style.display = (id === "bibione49") ? "block" : "none";
    }

    /* 4Ô∏è‚É£ forza reflow + anima ENTRATA */
    box.offsetHeight;
    box.classList.remove("fade-out");
    box.classList.add("fade-in");

  }, 220); // ‚è±Ô∏è durata uscita
}

function risposta(tipo){
  const box = document.getElementById("chat-messages");
  const l = LOCALI[localeSelezionato];
  if (!l) return;

  // üîó azioni che portano fuori
  if (tipo === "coppa") {
    window.location.href = "crea-coppa.html";
    return;
  }

  if (tipo === "lavoro") {
    window.location.href = "lavora-con-noi.html";
    return;
  }

  let contenuto = "";

  if (tipo === "orari") {
    contenuto = `
      üïí <b>Orari</b><br>
      ${l.orari}
    `;
  }
  if (tipo === "info") {
  contenuto = `
    ${l.info}
  `;
}

  if (tipo === "indirizzo") {
    contenuto = `
      üìç <b>Indirizzo</b><br>
      ${l.indirizzo}
    `;
  }

  // üî• SOSTITUISCE tutto (una risposta alla volta)
box.innerHTML = `
  <div style="opacity:.8;margin-bottom:6px">
    üí¨ Informazioni
  </div>

<div style="
  margin-top:8px;
  padding:10px;
  background:#f2f2f7;
  border-radius:10px;
  font-size:13.5px;
  line-height:1.45;
">
    ${contenuto}
  </div>
`;
}
// üç® apre il popup informativo
function apriPopupCoppa() {
  const popup = document.getElementById("coppa-popup");
  const chat = document.getElementById("chat-overlay");
  if (!popup || !chat) return;

  popup.style.display = "flex";
  blurBackground();

  // üî• sfoca anche la chat
  chat.classList.add("chat-blurred");
}

// ‚ùå chiude SOLO il popup (la chat resta aperta)
function chiudiPopupCoppa() {
  const popup = document.getElementById("coppa-popup");
  const chat = document.getElementById("chat-overlay");
  if (!popup || !chat) return;

  popup.style.display = "none";
  unblurBackground();

  // üî• rimuove sfocatura chat
  chat.classList.remove("chat-blurred");
}

// üëâ vai alla pagina crea coppa
function vaiACreaCoppa() {
  window.location.href = "crea-coppa.html";
}

function resetChat(){
  localeSelezionato = null;

  const box = document.getElementById("chat-messages");

  // 1Ô∏è‚É£ anima uscita
  box.classList.remove("fade-in");
  box.classList.add("fade-out");

  setTimeout(() => {
    // 2Ô∏è‚É£ cambia contenuto DOPO l‚Äôuscita
    box.innerHTML = `
      üëã Ciao! Seleziona il locale:
      <div style="margin-top:10px;display:grid;gap:8px">
        <button class="chat-btn" onclick="selezionaLocale('bibione49')">Bibione</button>
        <button class="chat-btn" onclick="selezionaLocale('bibione10')">Bibione 2 Asporto</button>
        <button class="chat-btn" onclick="selezionaLocale('lignano')">Lignano</button>
      </div>
    `;

    // 3Ô∏è‚É£ reset bottoni
    const actions = document.getElementById("chat-actions");
    if (actions) actions.style.display = "none";

    const btnCoppa = document.getElementById("btn-coppa");
    if (btnCoppa) btnCoppa.style.display = "none";

    document.getElementById("btn-back").style.display = "none";

    // 4Ô∏è‚É£ forza reflow + anima entrata
    box.offsetHeight;
    box.classList.remove("fade-out");
    box.classList.add("fade-in");

  }, 220); // ‚è±Ô∏è tempo uscita
}

function blurBackground() {
  const overlay = document.getElementById("blur-overlay");
  if (!overlay) return;
  overlay.style.opacity = "1";
  overlay.style.pointerEvents = "auto";
}

function unblurBackground() {
  const overlay = document.getElementById("blur-overlay");
  if (!overlay) return;
  overlay.style.opacity = "0";
  overlay.style.pointerEvents = "none";
}

</script>



<!-- üç® POPUP CREA COPPA -->
<div id="coppa-popup" style="
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.35);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:100000;
">
  <div style="
    background:#fff;
    width:92%;
    max-width:360px;
    border-radius:18px;
    padding:18px;
    box-shadow:0 10px 30px rgba(0,0,0,0.25);
  ">

    <b style="font-size:18px">üç® Crea la tua Coppa</b>

<div style="margin-top:10px; font-size:15px; line-height:1.5; color:#444">
  Scegli gusti, granelle, topping, ingredienti ed extra e crea la tua coppa <b>proprio come la vuoi tu</b>.

  <br><br>
  Al termine avrai un <b>riepilogo chiaro</b> da mostrare o comunicare  
  direttamente al <b>cameriere</b>, cos√¨ verr√† preparata esattamente come l‚Äôhai creata.

  <br><br>
  üéÅ Ogni coppa confermata ti avvicina a <b>coupon omaggio</b>  
  e puoi anche <b>condividere la tua creazione</b> con chi vuoi.
</div>

    <div style="margin-top:16px; display:flex; gap:10px">
      <button
        onclick="vaiACreaCoppa()"
        style="
          flex:1;
          padding:10px;
          border:none;
          border-radius:12px;
          background:#007aff;
          color:white;
          font-weight:700;
        "
      >
        Crea ora
      </button>

      <button
        onclick="chiudiPopupCoppa()"
        style="
          flex:1;
          padding:10px;
          border:1px solid #ddd;
          border-radius:12px;
          background:#f2f2f7;
          font-weight:600;
        "
      >
        Chiudi
      </button>
    </div>

  </div>
</div>

<div id="blur-overlay" style="
  position:fixed;
  inset:0;
  backdrop-filter: blur(6px);
  background: rgba(0,0,0,0.15);
  opacity:0;
  pointer-events:none;
  transition: opacity .25s ease;
  z-index: 99990;
"></div>

<!-- MENU DROPDOWN -->
<div id="menu-overlay"></div>

<div id="menu-dropdown">
<a href="crea-coppa.html" class="menu-item menu-new-only">
  <span class="badge-new-left">NEW</span>
  <span>Crea Coppa</span>
</a>
<a href="home.html" class="menu-item">
  <svg class="menu-icon" viewBox="0 0 24 24" aria-hidden="true">
    <path d="M3 11.5L12 4l9 7.5" />
    <path d="M5 10.5V20a1 1 0 0 0 1 1h4v-6h4v6h4a1 1 0 0 0 1-1v-9.5" />
  </svg>
  <span>Home</span>
</a>
  <a href="menu.html" class="menu-item">
  <svg class="menu-icon" viewBox="0 0 24 24" aria-hidden="true">
    <rect x="6" y="4" width="12" height="16" rx="2"
          fill="none" stroke="currentColor" stroke-width="2"/>
    <line x1="9" y1="9" x2="15" y2="9"
          stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    <line x1="9" y1="13" x2="15" y2="13"
          stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    <line x1="9" y1="17" x2="13" y2="17"
          stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
  </svg>
  <span>Menu</span>
</a>
<a href="profilo.html" class="menu-item">
  <svg class="menu-icon" viewBox="0 0 24 24" aria-hidden="true">
    <path d="M12 12c2.761 0 5-2.239 5-5S14.761 2 12 2 7 4.239 7 7s2.239 5 5 5zm0 2c-4.418 0-8 2.239-8 5v1h16v-1c0-2.761-3.582-5-8-5z"/>
  </svg>
  <span>Profilo</span>
</a>
<a href="info-contatti.html" class="menu-item">
  <svg class="menu-icon" viewBox="0 0 24 24" aria-hidden="true">
    <!-- CERCHIO -->
    <circle
      cx="12"
      cy="12"
      r="9"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
    />

    <!-- PALLINO DELLA i -->
    <circle
      cx="12"
      cy="8"
      r="0.5"
      fill="currentColor"
    />

    <!-- STELO DELLA i -->
    <line
      x1="12"
      y1="11"
      x2="12"
      y2="17"
      stroke="currentColor"
      stroke-width="2.2"
      stroke-linecap="round"
    />
  </svg>
  <span>Info &amp; Contatti</span>
</a>
<a href="lavora-con-noi.html" class="menu-item">
  <svg class="menu-icon" viewBox="0 0 24 24" aria-hidden="true">
    <!-- corpo valigetta -->
    <rect x="3" y="7" width="18" height="13" rx="2"
          fill="none" stroke="currentColor" stroke-width="2"/>
    <!-- manico -->
    <path d="M9 7V5a3 3 0 0 1 6 0v2"
          fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round"/>
  </svg>
  <span>Lavora con noi</span>
</a>
</div>
<script>
  const menuBtn = document.getElementById("menu-btn");
  const menu = document.getElementById("menu-dropdown");
  const overlay = document.getElementById("menu-overlay");

  function openMenu(){
    menu.classList.add("open");
    menu.style.opacity = "1";
    menu.style.pointerEvents = "auto";
    menu.style.transform = "translateY(0)";

    overlay.style.opacity = "1";
    overlay.style.pointerEvents = "auto";
  }

  function closeMenu(){
    menu.classList.remove("open");
    menu.style.opacity = "0";
    menu.style.pointerEvents = "none";
    menu.style.transform = "translateY(-10px)";

    overlay.style.opacity = "0";
    overlay.style.pointerEvents = "none";
  }

  menuBtn.addEventListener("click", () => {
    const isOpen = menu.classList.contains("open");
    isOpen ? closeMenu() : openMenu();
  });

  overlay.addEventListener("click", closeMenu);

  // chiude con ESC
  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape") closeMenu();
  });

  // chiude quando clicchi un link del menu
  menu.querySelectorAll("a").forEach(a => {
    a.addEventListener("click", closeMenu);
  });

  function apriChatLocale(id){
  apriChat();               // apre la chat
  setTimeout(() => {
    selezionaLocale(id);    // seleziona subito il locale
  }, 50);
}
</script>
<footer class="profile-footer">
  <div class="footer-links">
    <a href="privacy.html">Privacy</a> ¬∑
    <a href="termini.html">Termini</a> ¬∑
    <a href="cookie.html">Cookie</a>
  </div>

  <div class="footer-copy">
    ¬© 2026 Casa del Gelato
  </div>

  <div class="footer-version">
    Versione 1.0.0
  </div>
</footer>

<script>
function toggleInfoUtili(){
  const content = document.getElementById("info-utili-content");
  const arrow = document.getElementById("info-arrow");
  const card = document.querySelector(".info-card");

  const isOpen = content.classList.contains("open");

  if (isOpen) {
    // üîΩ CHIUSURA
    content.style.maxHeight = content.scrollHeight + "px";
    content.offsetHeight; // force reflow
    content.style.maxHeight = "0";
    content.classList.remove("open");

    card.classList.remove("open");
    arrow.style.transform = "rotate(0deg)";
  } else {
// üîº APERTURA
content.classList.add("open");
content.style.maxHeight = content.scrollHeight + "px";

card.classList.add("open");
arrow.style.transform = "rotate(90deg)";

/* üî• FIX: dopo l‚Äôanimazione libera l‚Äôaltezza */
setTimeout(() => {
  if (content.classList.contains("open")) {
    content.style.maxHeight = "none";
  }
}, 500); // stesso tempo della transition
}
}
</script>

<script>
function openMaps(url){
  window.open(url, "_blank");
}
</script>

<script>
const METEO_API_KEY = "014d2034080edbaccb22d2d8d4e60e2a";

async function caricaMeteo(lat, lon, suffix){
  try{
    const res = await fetch(
      `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&lang=it&appid=${METEO_API_KEY}`
    );

    if(!res.ok) throw new Error("Errore meteo");

    const data = await res.json();

    const temp = Math.round(data.main.temp);
    const desc = data.weather[0].description;
    const code = data.weather[0].id;

    document.getElementById(`meteo-temp-${suffix}`).textContent = `${temp}¬∞`;
    document.getElementById(`meteo-desc-${suffix}`).textContent =
      desc.charAt(0).toUpperCase() + desc.slice(1);
    document.getElementById(`meteo-icon-${suffix}`).textContent = iconaMeteo(code);

  }catch(err){
    console.warn("Meteo non disponibile", err);
    document.getElementById(`meteo-icon-${suffix}`).textContent = "‚ö†Ô∏è";
    document.getElementById(`meteo-desc-${suffix}`).textContent = "Meteo non disponibile";
  }
}

function iconaMeteo(code){
  if(code >= 200 && code < 300) return "‚õàÔ∏è";
  if(code >= 300 && code < 600) return "üåßÔ∏è";
  if(code >= 600 && code < 700) return "‚ùÑÔ∏è";
  if(code >= 700 && code < 800) return "üå´Ô∏è";
  if(code === 800) return "‚òÄÔ∏è";
  if(code > 800) return "‚õÖ";
  return "üå§Ô∏è";
}

document.addEventListener("DOMContentLoaded", () => {
  // üìç Bibione
  caricaMeteo(45.6366, 13.0552, "bibione");

  // üìç Lignano Sabbiadoro
  caricaMeteo(45.6900, 13.1386, "lignano");
});
</script>

<script>
let poiCorrente = "bibione";

function filtraPOI(citta, btn){
  document.querySelectorAll(".poi-btn").forEach(b => b.classList.remove("active"));
  btn.classList.add("active");

  const wrapper = document.querySelector(".poi-wrapper");
  let attivo = null;

  document.querySelectorAll(".poi-group").forEach(group => {
    if (group.dataset.city === citta) {
      group.classList.remove("hidden");
      attivo = group;
    } else {
      group.classList.add("hidden");
    }
  });

  closeSupermercati();

  // üî• aggiorna altezza wrapper (QUESTO evita il ‚Äúvuoto‚Äù)
  if (wrapper && attivo) {
    requestAnimationFrame(() => {
      wrapper.style.height = attivo.offsetHeight + "px";
    });
  }
}
</script>



<script>
let supermercatiOpen = false;

function toggleSupermercati(){
  const list = document.getElementById("supermercati-list");
  if (!list) return;

  supermercatiOpen = !supermercatiOpen;
  list.classList.toggle("open", supermercatiOpen);
}

function closeSupermercati(){
  const list = document.getElementById("supermercati-list");
  if (!list) return;

  supermercatiOpen = false;
  list.classList.remove("open");
}

/* üîí CHIUSURA AUTOMATICA ALL‚ÄôAVVIO */
document.addEventListener("DOMContentLoaded", closeSupermercati);
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  // üöó parcheggi default
  const btn = document.querySelector(".parking-btn-filter.active");
  if (btn) mostraParcheggi("bibione", btn);

  // üìç POI default
  const poi = document.querySelector(".poi-btn.active");
  if (poi) filtraPOI("bibione", poi);
});
</script>
<script>
  window.addEventListener("load", () => {
    document.body.classList.remove("no-anim");
  });
</script>

<script>
let parcheggiCorrenti = "bibione";

function mostraParcheggi(citta, btn){
  if (citta === parcheggiCorrenti) return;
  parcheggiCorrenti = citta;

  // bottoni
  document.querySelectorAll(".parking-btn-filter")
    .forEach(b => b.classList.remove("active"));
  btn.classList.add("active");

  const wrapper = document.querySelector(".parking-wrapper");
  let nuovaAltezza = 0;

  document.querySelectorAll(".parking-group").forEach(group => {
    const show = group.dataset.city === citta;

    if (show) {
      group.classList.remove("hidden");
      nuovaAltezza = group.offsetHeight; // misura reale
    } else {
      group.classList.add("hidden");
    }
  });

  // üîí RISERVA LO SPAZIO ‚Üí niente salti, niente flicker
  wrapper.style.height = nuovaAltezza + "px";
}
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const wrapper = document.querySelector(".parking-wrapper");
  const attivo = document.querySelector('.parking-group[data-city="bibione"]');

  if (!wrapper || !attivo) return;

  // üîí nasconde subito gli altri
  document.querySelectorAll(".parking-group").forEach(g => {
    if (g !== attivo) g.classList.add("hidden");
  });

  // üî• imposta SUBITO l‚Äôaltezza corretta
  wrapper.style.height = attivo.offsetHeight + "px";
});
</script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const wrapper = document.querySelector(".poi-wrapper");
  const groups = document.querySelectorAll(".poi-group");

  if (!wrapper || !groups.length) return;

  // mostra SOLO Bibione all'avvio
  groups.forEach(g => {
    g.classList.toggle("hidden", g.dataset.city !== "bibione");
  });

  // üî• misura corretta altezza iniziale
  const attivo = document.querySelector('.poi-group[data-city="bibione"]');
  if (attivo) {
    wrapper.style.height = attivo.offsetHeight + "px";
  }

  // sblocca animazioni
  requestAnimationFrame(() => {
    document.body.classList.remove("no-anim");
  });
});
</script>

<script>
window.addEventListener("load", () => {
  document.querySelectorAll(".shop-img-slider").forEach(slider => {
    const slides = slider.querySelectorAll(".shop-img");
    if (slides.length <= 1) return;

    const slideWidth = slider.clientWidth;

    // üîÅ clona la prima slide e mettila in fondo
    const firstClone = slides[0].cloneNode(true);
    slider.appendChild(firstClone);

    let index = 0;
    let isResetting = false;

    const autoScroll = () => {
      if (isResetting) return;

      index++;
      slider.scrollTo({
        left: index * slideWidth,
        behavior: "smooth"
      });

      // üß† quando arrivi alla CLONE (ultima)
      if (index === slides.length) {
        isResetting = true;

        // aspetta che finisca l'animazione
        setTimeout(() => {
          slider.scrollTo({
            left: 0,
            behavior: "auto" // üëà reset INVISIBILE
          });
          index = 0;
          isResetting = false;
        }, 700); // ‚è±Ô∏è durata animazione smooth
      }
    };

    const timer = setInterval(autoScroll, 6000); // ‚è±Ô∏è lento

    // üõë stop se l‚Äôutente interagisce
    const stop = () => clearInterval(timer);
    slider.addEventListener("touchstart", stop, { once: true });
    slider.addEventListener("mousedown", stop, { once: true });

    // sicurezza su resize
    window.addEventListener("resize", () => {
      slider.scrollTo({ left: index * slider.clientWidth, behavior: "auto" });
    });
  });
});
</script>

</body>
</html>