<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Test Coppa Gelato – Box Guida (Formato PICCOLA)</title>

<style>
body {
  margin: 0;
  background: #f2f2f2;
  font-family: system-ui, -apple-system, sans-serif;
}

/* ================= BOX GRANDE ================= */
#coppa-stage {
  position: relative;
  width: 860px;
  height: 500px;
  margin: 40px auto;
  background: #fff;
  border: 3px solid #000;
  overflow: hidden;
}

/* ================= CONTROLLO GLOBALE ================= */
:root {
  --base-left: 170px;
}

/* ================= BOX ================= */
.box {
  position: absolute;
  box-sizing: border-box;
  border: 2px dashed rgba(0,0,0,0.45);
}

/* ================= COPPA ================= */
.box-coppa {
  width: 260px;
  height: 170px;
  left: var(--base-left);
  top: 210px;
}

/* ================= PALLINE ================= */
.box-palline {
  position: absolute;
  width: 260px;
  height: 140px;
  left: var(--base-left);
  top: 110px;
  z-index: 1;
}

.box-pallina {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  position: absolute;
}

.pallina-1 { left: 0; transform: translateX(20px); }
.pallina-2 { right: 0; transform: translateX(-20px); }

.box-pallina img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
}

/* ================= PANNA ================= */
.box-panna {
  width: 160px;
  height: 160px;
  left: calc(var(--base-left) + 130px - 80px);
  top: 10px;
  z-index: 3;
}

/* ================= EXTRA ================= */
.box-extra {
  width: 90px;
  height: 130px;
  top: 240px;
  display: flex;
  align-items: flex-end;
  justify-content: center;
}



.box-granella { left: calc(var(--base-left) + 300px); }
.box-topping  { left: calc(var(--base-left) + 400px); }
.box-frutta   { left: calc(var(--base-left) + 500px); }

/* ================= IMMAGINI NEI BOX ================= */
.box img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  display: block;
}
/* ================= IMMAGINI NEI BOX (FIX DEFINITIVO) ================= */

/* Tutti i box NON extra (coppa, panna, palline) */
.box:not(.box-extra) img {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;
  pointer-events: none;
}

/* Palline */
.box-pallina img {
  object-fit: cover;
  border-radius: 50%;
}

/* Panna */
.box-panna img {
  object-fit: contain;
}

/* ================= LABEL ================= */
.label {
  position: absolute;
  bottom: -18px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 11px;
}

/* ================= FRECCE ================= */
.arrow {
  position: absolute;
  pointer-events: none;
  z-index: 2;
}

.arrow svg {
  overflow: visible;
}

.arrow path {
  fill: none;
  stroke: #000;
  stroke-width: 3;
  stroke-linecap: round;
}

/* ================= TESTO FRECCE ================= */
.arrow-text {
  position: absolute;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #000;
}

/* posizionamento TESTO – calibrato sulla tua freccia */
.arrow-text.left {
  left: 36px;
  top: 20px;
}

.arrow-text.right {
  right: 36px;
  top: 20px;
}

.arrow-text.top {
  top: -26px;
  left: 50%;
  transform: translateX(-50%);
}

.arrow-text.bottom {
  bottom: -26px;
  left: 50%;
  transform: translateX(-50%);
}


/* ================= TESTO FRECCIA ================= */
.arrow {
  position: absolute;
}

.arrow-text {
  position: absolute;
  left: -35px;     /* ← molto vicino all'inizio della coda */
  top: 45px;     /* ↓ sotto la curva, punto cerchiato */
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
}
.arrow-text.right {
  left: auto;        /* disattiva la sinistra */
  right: -35px;      /* agganciato alla coda (specchio) */
  top: -20px;         /* stessa altezza della sinistra */
}
.arrow-text.bottom {
  left: 50%;
  transform: translateX(-50%);
  top: 55px;        /* sotto la curva */
}
.granella-text {
  margin-left: -40px; /* oppure il valore che avevi trovato perfetto */
}
.frutta-text {
  margin-left: 30px; /* oppure il valore che avevi trovato perfetto */
}
.arrow {
  position: absolute;
}

.arrow-text.top {
  left: 50%;
  transform: translateX(-50%);
  top: -50px;
}
.topping-text {
  margin-left: 20px;   /* ⬅️ questo ORA funziona */
}
.topping-text {
  top: -75px;   /* ⬅️ questo ORA funziona */
}
</style>
</head>

<body>

<h2 style="text-align:center;margin-top:20px;">
Test Coppa Gelato – Box Guida (Formato PICCOLA)
</h2>

<div id="coppa-stage">

  <!-- PANNA -->
  <div class="box box-panna">
    <img src="img/panna.png">
    <div class="label">Panna</div>
  </div>

  <!-- PALLINE -->
  <div class="box-palline">

    <!-- Pallina sinistra -->
    <div class="box box-pallina pallina-1">
      <img src="img/pallina-vaniglia.png">

<div class="arrow" style="left:-38px; top:50%; transform:translate(-30px, -50%);">

  <svg class="arrow-svg" width="50" height="30" viewBox="0 0 50 30">
    <path d="M30 15 C16 14, -6 18, -12 38"
          fill="none"
          stroke="#000"
          stroke-width="1.3"
          stroke-linecap="round" />

    <path d="M38 15 L30 11 M38 15 L30 19"
          fill="none"
          stroke="#000"
          stroke-width="1.3"
          stroke-linecap="round"
          stroke-linejoin="round" />
  </svg>

  <!-- TESTO ALLA CODA -->
  <div class="arrow-text">Gusto</div>

</div>
    </div>

    <!-- Pallina destra -->
    <div class="box box-pallina pallina-2">
      <img src="img/pallina-fragola.png">

      <div class="arrow" style="right:-62px; top:50%; transform:translateY(-50%);">
        <div class="arrow-text right">Gusto</div>

        <svg class="arrow-svg" width="50" height="30" viewBox="0 0 50 30"
             style="transform: rotate(180deg) translateY(-14px); transform-origin: center;">
          <path d="M30 15 C16 14, -6 18, -12 38" />
          <path d="M38 15 L30 11 M38 15 L30 19" />
        </svg>
      </div>
    </div>

  </div>

  <!-- COPPA -->
  <div class="box box-coppa">
    <img src="img/coppa-piccola.png">
    <div class="label">Coppa</div>
  </div>

  <!-- GRANELLA -->
  <div class="box box-extra box-granella">
    <img src="img/granella-nocciola.png">

    <div class="arrow" style="bottom:-52px; left:50%; transform:translateX(-50%);">
      <div class="arrow-text bottom granella-text">Granella</div>

      <svg class="arrow-svg" width="50" height="30" viewBox="0 0 50 30"
           style="transform:rotate(-90deg) scaleY(-1); transform-origin:center;">
        <path d="M30 15 C16 14, -6 18, -12 38" />
        <path d="M38 15 L30 11 M38 15 L30 19" />
      </svg>
    </div>
  </div>

  <!-- TOPPING -->
  <div class="box box-extra box-topping">
    <img src="img/topping-bosco.png">

<div class="arrow" style="top:-58px; left:50%; transform:translateX(-50%);">

  <div class="arrow-text top topping-text">Topping</div>

  <svg class="arrow-svg" width="50" height="30" viewBox="0 0 50 30"
       style="transform: rotate(90deg) scaleY(-1); transform-origin: center;">
    <path d="M30 15 C16 14, -6 18, -12 38" />
    <path d="M38 15 L30 11 M38 15 L30 19" />
  </svg>

</div>
  </div>

  <!-- FRUTTA -->
  <div class="box box-extra box-frutta">
    <img src="img/fragola.png">

    <div class="arrow" style="bottom:-52px; left:50%; transform:translateX(-50%);">
      <div class="arrow-text bottom frutta-text">Frutta</div>

      <svg class="arrow-svg" width="50" height="30" viewBox="0 0 50 30"
           style="transform:rotate(-90deg); transform-origin:center;">
        <path d="M30 15 C16 14, -6 18, -12 38" />
        <path d="M38 15 L30 11 M38 15 L30 19" />
      </svg>
    </div>
  </div>

</div>

</body>
</html>